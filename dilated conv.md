# Dilated Conv



## **定义**：

#### 空洞卷积（或膨胀卷积）通过在卷积核元素之间插入空格（dilation rate），扩展感受野而**不增加参数或损失分辨率**。



## 优点：

- 感受野随层数指数增长：第 iii 层感受野为 (2^(i+2)−1)×(2^(i+2)−1)
- 不需要下采样（如 pooling）即可获取多尺度信息。
- 保持分辨率，适合密集预测任务。

### 普通卷积（dilation = 1）

```
卷积核在输入特征图上的采样位置（*为采样）：

* * *
* * *
* * *
```

- 相邻采样点之间间隔是 1。
- 实际感受野是 3×3。

------

### dilation = 2（空洞卷积）

```
采样位置：

* . * . *
. . . . .
* . * . *
. . . . .
* . * . *
```

- 相邻采样点之间间隔是 2。
- 仍然是 3×3 的核（参数个数不变），但采样的是输入上一个 **5×5 的区域**。
- 所以实际感受野是 **5×5**。

------

### dilation = 3

```
采样位置：

* . . * . . *
. . . . . . .
* . . * . . *
. . . . . . .
* . . * . . *
```



## 类似

我们不是真的创建了一个巨大的稀疏卷积核，而是：

- 保持原始 kernel 参数为 3×3；
- 控制计算过程：让每个参数作用于 **dilation 扩展后的采样位置**。

所以这是一个 **高效实现的稀疏卷积核**。



可以理解为
Input Feature Map: [64 x 64 x C]
       │
       ▼
+----------------------------+
| Layer 1: 3x3 conv, dilation=1 |
| Output: [64 x 64 x C], ReLU  |
| Receptive Field: 3 x 3       |
+----------------------------+
       │
       ▼
+----------------------------+
| Layer 2: 3x3 conv, dilation=1 |
| Output: [64 x 64 x C], ReLU  |
| Receptive Field: 5 x 5       |
+----------------------------+
       │
       ▼
+----------------------------+
| Layer 3: 3x3 conv, dilation=2 |
| Output: [64 x 64 x C], ReLU  |
| Receptive Field: 9 x 9       |
+----------------------------+
       │
       ▼
+----------------------------+
| Layer 4: 3x3 conv, dilation=4 |
| Output: [64 x 64 x C], ReLU  |
| Receptive Field: 17 x 17     |
+----------------------------+
       │
       ▼
+----------------------------+
| Layer 5: 3x3 conv, dilation=8 |
| Output: [64 x 64 x C], ReLU  |
| Receptive Field: 33 x 33     |
+----------------------------+
       │
       ▼
+----------------------------+
| Layer 6: 3x3 conv, dilation=16 |
| Output: [64 x 64 x C], ReLU   |
| Receptive Field: 65 x 65      |
+----------------------------+
       │
       ▼
+----------------------------+
| Layer 7: 3x3 conv, dilation=1 |
| Output: [64 x 64 x C], ReLU   |
| Receptive Field: 67 x 67      |
+----------------------------+
       │
       ▼
+----------------------------+
| Layer 8: 1x1 conv             |
| Output: [64 x 64 x C]         |
| Receptive Field: 67 x 67      |
+----------------------------+

Final Output: [64 x 64 x C]
